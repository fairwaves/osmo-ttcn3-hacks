/* (C) 2017 by Harald Welte <laforge@gnumonks.org> */

module IPA_Types {

import from Osmocom_Types all;

type uint8_t IpaStreamId;

external function enc_PDU_IPA(in PDU_IPA pdu) return octetstring
with { extension "prototype(convert)"
       extension "encode(RAW)"
     }

external function dec_PDU_IPA(in octetstring stream) return PDU_IPA
with { extension "prototype(convert)"
       extension "decode(RAW)"
     }

type record PDU_IPA
{
	uint16_t	lengthInd,
	IpaStreamId	streamId,
	octetstring	payloadData
} with {
	variant (lengthInd) "LENGTHTO(lengthInd,streamId,payloadData)";
	variant (lengthInd) "FIELDLENGTH(16)";
	variant (lengthInd) "BYTEORDER(last)";
	encode "RAW";
}

}
